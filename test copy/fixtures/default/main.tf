module "http_python_cloud_function" {
  source                        = "../../../"
  github_url                    = var.github_url
  local_folder                  = var.http_local_folder
  folder_name                   = var.http_folder_name
  function_name                 = var.http_function_name
  runtime                       = var.http_runtime
  available_memory_mb           = var.available_memory_mb
  timeout                       = var.timeout
  entry_point                   = var.entry_point
  environment_vars              = var.environment_vars
  ingress_settings              = var.ingress_settings
  vpc_connector_egress_settings = var.vpc_connector_egress_settings
  vpc_connector                 = var.vpc_connector
  service_account_email         = var.service_account_email
  max_instances                 = var.max_instances
  trigger_type                  = var.http_trigger_type
  trigger_event_resource        = null
  encryption_type               = var.http_encryption_type
  created_by                    = var.created_by
  description                   = var.http_description
  owner                         = var.owner
  project_id                    = var.project_id
  zip_name                      = var.http_zip_name
  function_archive_bucket_name  = var.http_function_archive_bucket_name
}

module "pubsub_python_cloud_function" {
  source     = "../../../"
  github_url = var.github_url

  local_folder                  = var.pubsub_local_folder
  folder_name                   = var.pubsub_folder_name
  function_name                 = var.pubsub_function_name
  runtime                       = var.pubsub_runtime
  available_memory_mb           = var.available_memory_mb
  timeout                       = var.timeout
  entry_point                   = var.entry_point
  environment_vars              = var.environment_vars
  ingress_settings              = var.ingress_settings
  vpc_connector_egress_settings = var.vpc_connector_egress_settings
  vpc_connector                 = var.vpc_connector
  service_account_email         = var.service_account_email
  max_instances                 = var.max_instances
  trigger_type                  = var.pubsub_trigger_type
  trigger_event_resource        = var.pubsub_trigger_event_resource
  encryption_type               = var.pubsub_encryption_type
  created_by                    = var.created_by
  description                   = var.pubsub_description
  owner                         = var.owner
  project_id                    = var.project_id
  zip_name                      = var.pubsub_zip_name
  function_archive_bucket_name  = var.pubsub_function_archive_bucket_name
  trigger_event_type_pubsub     = var.pubsub_trigger_event_type_pubsub
  /* pubsub_subscription_name      = var.pubsub_pubsub_subscription_name */
}

module "storage_event_cloud_function" {
  source                        = "../../../"
  github_url                    = var.github_url
  local_folder                  = var.storage_local_folder
  folder_name                   = var.storage_folder_name
  function_name                 = var.storage_function_name
  runtime                       = var.storage_runtime
  available_memory_mb           = var.available_memory_mb
  timeout                       = var.timeout
  entry_point                   = var.entry_point
  environment_vars              = var.environment_vars
  ingress_settings              = var.ingress_settings
  vpc_connector_egress_settings = var.vpc_connector_egress_settings
  vpc_connector                 = var.vpc_connector
  service_account_email         = var.service_account_email
  max_instances                 = var.max_instances
  trigger_type                  = var.storage_trigger_type
  trigger_event_resource        = var.storage_trigger_event_resource
  encryption_type               = var.storage_encryption_type
  created_by                    = var.created_by
  description                   = var.storage_description
  owner                         = var.owner
  project_id                    = var.project_id
  zip_name                      = var.storage_zip_name
  function_archive_bucket_name  = var.storage_function_archive_bucket_name
}